<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Quadrant Timers</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#0b0e14" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

  <!-- Your CSS bundle(s) go here -->
  <link rel="stylesheet" href="game.css" />

  <!-- Google Fonts (match what you had before) -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Bangers&family=DM+Serif+Display&family=Manrope:wght@500;800&family=Orbitron&family=Pacifico&family=Playfair+Display&family=Press+Start+2P&family=Quicksand:wght@300;700&family=Share+Tech+Mono&family=Space+Grotesk:wght@400;600;700&family=Special+Elite&display=swap"
    rel="stylesheet"
  />
</head>
<body>
  <!-- Top dock: folder picker + global controls -->
  <div class="dock">
    <label for="folderPicker">üé¨ Pick videos</label>
    <input
      id="folderPicker"
      type="file"
      webkitdirectory
      directory
      multiple
      accept="video/*"
    />
    <button id="btnStart">‚ñ∂Ô∏é Start</button>
    <button id="btnStop">‚èπ Stop</button>
    <button id="btnFSAll" title="Fullscreen app">‚õ∂</button>
    <span class="spacer"></span>
    <button id="btnMuteAll" title="Mute/Unmute all">üîá</button>
    <span id="status" class="hint">Load ‚â•4 vids, Start, then pick theme.</span>
  </div>

  <!-- Main stage: 2 quadrants / players -->
  <div class="stage">
    <!-- QUADRANT 1 -->
    <div class="quadrant" id="q1">
      <div class="video-container">
        <video
          class="quad-video"
          playsinline
          webkit-playsinline
          preload="metadata"
          muted
          loop
        ></video>

        <div class="vibe-overlay"></div>

        <!-- Event overlays (visual FX) -->
        <div class="event-overlay event-overlay-light" data-effect="light"></div>
        <div class="event-overlay event-overlay-smoke" data-effect="smoke"></div>
        <div class="event-overlay event-overlay-inhale" data-effect="inhale"></div>
        <div class="event-overlay event-overlay-hold" data-effect="hold"></div>
        <div class="event-overlay event-overlay-exhale" data-effect="exhale"></div>
        <div class="event-overlay event-overlay-sniff" data-effect="sniff"></div>
        <div class="event-overlay event-overlay-mask" data-effect="mask"></div>
        <div class="event-overlay event-overlay-action" data-effect="action"></div>

        <!-- Countdown on top of video -->
        <div class="video-countdown-overlay overlay">
          <div class="inner">
            <div class="display-xxl countdown-text">--</div>
            <div class="timer-text countdown-timer">0</div>
          </div>
        </div>
      </div>

      <div class="panel-container">
        <!-- Info text for current phase -->
        <div class="info-text-overlay display-lg"></div>

        <!-- "Next event in Xs" -->
        <div class="nextEventTimer">
          Until <span class="nextEventName">Event</span>:
          <span class="nextEventTime">0</span>s
        </div>

        <!-- Validation overlay (yes/no) -->
        <div class="special-overlay validation-overlay">
          <div class="special-overlay-title validation-title">
            Did you complete it?
          </div>
          <div class="special-overlay-timer">10</div>
          <div class="special-overlay-actions">
            <button class="validation-button confirm btn-task-confirm">YES</button>
            <button class="validation-button fail btn-task-fail">NO</button>
          </div>
        </div>

        <!-- Breath count overlay -->
        <div class="special-overlay breath-count-overlay">
          <div class="special-overlay-title">How many breaths?</div>
          <div class="special-overlay-timer breath-count-timer">10</div>
          <div class="choices breath-count-choices"></div>
        </div>

        <!-- Action choice overlay (pick puff/sniff/mask/action etc) -->
        <div class="special-overlay action-choice-overlay">
          <div class="special-overlay-title">Choose your next event</div>
          <div class="special-overlay-timer action-choice-timer">20</div>
          <div class="choices action-choice-choices"></div>
        </div>

        <!-- Grid choice overlay (pick video) -->
        <div class="special-overlay grid-choice-overlay">
          <div class="special-overlay-title">Choose your next video</div>
          <div class="special-overlay-timer grid-choice-timer">20</div>
          <div class="choices grid-choice-choices"></div>
        </div>

        <!-- Bottom bar: per-player controls -->
        <div class="bottom-bar">
          <button
            class="btn-phase-cancel btn-phase-fail btn-task-cancel"
            title="Fail/Skip Event"
          >
            ‚úó
          </button>
          <button
            class="btn-phase-cancel btn-phase-confirm btn-task-cancel"
            title="Complete Event"
          >
            ‚úì
          </button>
          <span class="spacer"></span>
          <button class="btnReset" title="Reset phase visuals">üßπ</button>
          <button class="btnRestart" title="Restart (20s)">üîÑ</button>
          <div class="tally">Score: 0</div>
          <button class="shuffleVideo" title="Next video">‚áÑ</button>
          <button class="btnFS" title="Fullscreen this quad">‚õ∂</button>
          <button class="btnSound" title="Play this quad's audio">üîà</button>
        </div>

        <!-- Start overlay / theme & clip picker -->
        <div class="overlay chooseTint">
          <div class="choose-layout">
            <div class="choose-video-area">
              <div class="chooseTitle">PICK A VIDEO</div>
              <div class="choose-grid start-grid">
                <div class="choose-grid-item" data-idx="0">
                  <video playsinline muted preload="metadata"></video>
                  <div class="item-label"></div>
                </div>
                <div class="choose-grid-item" data-idx="1">
                  <video playsinline muted preload="metadata"></video>
                  <div class="item-label"></div>
                </div>
                <div class="choose-grid-item" data-idx="2">
                  <video playsinline muted preload="metadata"></video>
                  <div class="item-label"></div>
                </div>
                <div class="choose-grid-item" data-idx="3">
                  <video playsinline muted preload="metadata"></video>
                  <div class="item-label"></div>
                </div>
              </div>
            </div>
            <div class="choose-panel-area">
              <div class="theme-name start-theme-title"></div>
              <div class="choose-actions start-controls">
                <button class="btn-change-theme">Change Theme</button>
                <button class="btn-player-start">
                  START
                </button>
              </div>
              <div class="vibe-preview">
                <div class="preview-title">VIBE PREVIEW</div>
                <div class="preview-panel preview-panel-info">Info panel</div>
                <div class="preview-panel preview-panel-video">Video label</div>
              </div>
            </div>
          </div>
        </div>
      </div> <!-- /panel-container -->
    </div> <!-- /quadrant 1 -->

    <!-- QUADRANT 2: same structure, different id -->
    <div class="quadrant" id="q2">
      <div class="video-container">
        <video
          class="quad-video"
          playsinline
          webkit-playsinline
          preload="metadata"
          muted
          loop
        ></video>

        <div class="vibe-overlay"></div>

        <div class="event-overlay event-overlay-light" data-effect="light"></div>
        <div class="event-overlay event-overlay-smoke" data-effect="smoke"></div>
        <div class="event-overlay event-overlay-inhale" data-effect="inhale"></div>
        <div class="event-overlay event-overlay-hold" data-effect="hold"></div>
        <div class="event-overlay event-overlay-exhale" data-effect="exhale"></div>
        <div class="event-overlay event-overlay-sniff" data-effect="sniff"></div>
        <div class="event-overlay event-overlay-mask" data-effect="mask"></div>
        <div class="event-overlay event-overlay-action" data-effect="action"></div>

        <div class="video-countdown-overlay overlay">
          <div class="inner">
            <div class="display-xxl countdown-text">--</div>
            <div class="timer-text countdown-timer">0</div>
          </div>
        </div>
      </div>

      <div class="panel-container">
        <div class="info-text-overlay display-lg"></div>

        <div class="nextEventTimer">
          Until <span class="nextEventName">Event</span>:
          <span class="nextEventTime">0</span>s
        </div>

        <div class="special-overlay validation-overlay">
          <div class="special-overlay-title validation-title">
            Did you complete it?
          </div>
          <div class="special-overlay-timer">10</div>
          <div class="special-overlay-actions">
            <button class="validation-button confirm btn-task-confirm">YES</button>
            <button class="validation-button fail btn-task-fail">NO</button>
          </div>
        </div>

        <div class="special-overlay breath-count-overlay">
          <div class="special-overlay-title">How many breaths?</div>
          <div class="special-overlay-timer breath-count-timer">10</div>
          <div class="choices breath-count-choices"></div>
        </div>

        <div class="special-overlay action-choice-overlay">
          <div class="special-overlay-title">Choose your next event</div>
          <div class="special-overlay-timer action-choice-timer">20</div>
          <div class="choices action-choice-choices"></div>
        </div>

        <div class="special-overlay grid-choice-overlay">
          <div class="special-overlay-title">Choose your next video</div>
          <div class="special-overlay-timer grid-choice-timer">20</div>
          <div class="choices grid-choice-choices"></div>
        </div>

        <div class="bottom-bar">
          <button
            class="btn-phase-cancel btn-phase-fail btn-task-cancel"
            title="Fail/Skip Event"
          >
            ‚úó
          </button>
          <button
            class="btn-phase-cancel btn-phase-confirm btn-task-cancel"
            title="Complete Event"
          >
            ‚úì
          </button>
          <span class="spacer"></span>
          <button class="btnReset" title="Reset phase visuals">üßπ</button>
          <button class="btnRestart" title="Restart (20s)">üîÑ</button>
          <div class="tally">Score: 0</div>
          <button class="shuffleVideo" title="Next video">‚áÑ</button>
          <button class="btnFS" title="Fullscreen this quad">‚õ∂</button>
          <button class="btnSound" title="Play this quad's audio">üîà</button>
        </div>

        <div class="overlay chooseTint">
          <div class="choose-layout">
            <div class="choose-video-area">
              <div class="chooseTitle">PICK A VIDEO</div>
              <div class="choose-grid start-grid">
                <div class="choose-grid-item" data-idx="0">
                  <video playsinline muted preload="metadata"></video>
                  <div class="item-label"></div>
                </div>
                <div class="choose-grid-item" data-idx="1">
                  <video playsinline muted preload="metadata"></video>
                  <div class="item-label"></div>
                </div>
                <div class="choose-grid-item" data-idx="2">
                  <video playsinline muted preload="metadata"></video>
                  <div class="item-label"></div>
                </div>
                <div class="choose-grid-item" data-idx="3">
                  <video playsinline muted preload="metadata"></video>
                  <div class="item-label"></div>
                </div>
              </div>
            </div>
            <div class="choose-panel-area">
              <div class="theme-name start-theme-title"></div>
              <div class="choose-actions start-controls">
                <button class="btn-change-theme">Change Theme</button>
                <button class="btn-player-start">
                  START
                </button>
              </div>
              <div class="vibe-preview">
                <div class="preview-title">VIBE PREVIEW</div>
                <div class="preview-panel preview-panel-info">Info panel</div>
                <div class="preview-panel preview-panel-video">Video label</div>
              </div>
            </div>
          </div>
        </div>
      </div> <!-- /panel-container -->
    </div> <!-- /quadrant 2 -->
  </div> <!-- /stage -->

  <script src="game.js" defer></script>
</body>
</html>
